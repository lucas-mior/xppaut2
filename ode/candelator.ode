!g=980
par k=.1
init m1=60,m2=60
r1=m1/4
r2=m2/4
d=(-r1*m1+r2*m2)/(m1*r1^2+m2*r2^2)
w'=.75*g*sin(th)*d-k*w
th'=w
m1'=scale*f(th1)
m2'=scale*f(th2)
par scale=1e-4
f(t)=if(t<-1.308)then(.556+.8307*t)else(if(t<.6982
@ meth=cvode
aux drive=d
d

